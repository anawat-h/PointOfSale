import{M as A}from"./Modal.8c4222ba.js";import{d as g,r as s,i as w,_ as S,c as p,a as _,w as h,b as u,F as k,e as y,f,o as m,g as D,t as b,h as U,v as C,p as B,j as $}from"./index.daa4adef.js";const M=g({components:{Modal:A},setup(){const t=w("datastore"),e=s([]);t.unit.getAllUnits().then(n=>{e.value=n});const a=s({name:""}),l=s(!1),E=s("");function v(){a.value={name:""},E.value="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",l.value=!0}function i(n){a.value={...e.value[n]},E.value="\u0E41\u0E01\u0E49\u0E44\u0E02\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",l.value=!0}function r(){t==null||t.unit.editUnit(a.value).then(async()=>{e.value=await t.unit.getAllUnits(),l.value=!1}).catch(n=>alert(n))}function o(n){t==null||t.unit.deleteUnit(e.value[n].id).then(async()=>e.value=await t.unit.getAllUnits()).catch(c=>alert(c))}return{units:e,formData:a,modalState:l,modalHeading:E,openAdd:v,openEdit:i,onSubmit:r,onDelete:o}}});const d=t=>(B("data-v-182328db"),t=t(),$(),t),I=d(()=>u("h2",null,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",-1)),N=d(()=>u("thead",null,[u("tr",null,[u("th",{width:"10%"},"No."),u("th",null,"\u0E0A\u0E37\u0E48\u0E2D"),u("th",{class:"text-center",width:"20%"},"\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23")])],-1)),V={class:"text-center"},H=["onClick"],j=["onClick"],F=d(()=>u("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22",-1)),T=d(()=>u("br",null,null,-1));function L(t,e,a,l,E,v){const i=f("router-link"),r=f("Modal");return m(),p("div",null,[_(i,{to:{name:"Home"}},{default:h(()=>[D("\u0E01\u0E25\u0E31\u0E1A")]),_:1}),I,u("button",{type:"button",class:"add-button",onClick:e[0]||(e[0]=(...o)=>t.openAdd&&t.openAdd(...o))},"\u0E40\u0E1E\u0E34\u0E48\u0E21"),u("table",null,[N,u("tbody",null,[(m(!0),p(k,null,y(t.units,(o,n)=>(m(),p("tr",{key:n},[u("td",null,b(n+1),1),u("td",null,b(o.name),1),u("td",V,[u("button",{onClick:c=>t.openEdit(n)},"\u0E41\u0E01\u0E49\u0E44\u0E02",8,H),u("button",{onClick:c=>t.onDelete(n)},"\u0E25\u0E1A",8,j)])]))),128))])]),_(r,{shown:t.modalState,"onUpdate:shown":e[2]||(e[2]=o=>t.modalState=o),heading:t.modalHeading,onSave:t.onSubmit},{body:h(()=>[F,T,U(u("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.name=o),autocomplete:"off"},null,512),[[C,t.formData.name]])]),_:1},8,["shown","heading","onSave"])])}const G=S(M,[["render",L],["__scopeId","data-v-182328db"]]);export{G as default};
