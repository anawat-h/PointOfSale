import{M as A}from"./Modal.d50e02d2.js";import{d as g,r as d,i as w,_ as S,c as p,a as _,w as h,b as e,F as k,e as y,f,o as m,g as U,t as b,h as D,v as C,p as B,j as $}from"./index.86a0ebf6.js";const I=g({components:{Modal:A},setup(){const t=w("datastore"),u=d([]);t.unit.getAllUnits().then(n=>{u.value=n});const a=d({name:""}),l=d(!1),s=d("");function v(){a.value={name:""},s.value="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",l.value=!0}function r(n){a.value={...u.value[n]},s.value="\u0E41\u0E01\u0E49\u0E44\u0E02\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",l.value=!0}function c(){t==null||t.unit.editUnit(a.value).then(async()=>{u.value=await t.unit.getAllUnits(),l.value=!1}).catch(n=>alert(n))}function o(n){t==null||t.unit.deleteUnit(u.value[n].id).then(async()=>{const E=await t.unit.getAllUnits();selectedIndex.value=void 0,u.value=E}).catch(E=>alert(E))}return{units:u,formData:a,modalState:l,modalHeading:s,openAdd:v,openEdit:r,onSubmit:c,onDelete:o}}});const i=t=>(B("data-v-99a60520"),t=t(),$(),t),M=i(()=>e("h2",null,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A",-1)),N=i(()=>e("thead",null,[e("tr",null,[e("th",{width:"10%"},"No."),e("th",null,"\u0E0A\u0E37\u0E48\u0E2D"),e("th",{class:"text-center",width:"20%"},"\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23")])],-1)),V={class:"text-center"},H=["onClick"],j=["onClick"],F=i(()=>e("label",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22",-1)),T=i(()=>e("br",null,null,-1));function L(t,u,a,l,s,v){const r=f("router-link"),c=f("Modal");return m(),p("div",null,[_(r,{to:{name:"Home"}},{default:h(()=>[U("\u0E01\u0E25\u0E31\u0E1A")]),_:1}),M,e("button",{type:"button",class:"add-button",onClick:u[0]||(u[0]=(...o)=>t.openAdd&&t.openAdd(...o))},"\u0E40\u0E1E\u0E34\u0E48\u0E21"),e("table",null,[N,e("tbody",null,[(m(!0),p(k,null,y(t.units,(o,n)=>(m(),p("tr",{key:n},[e("td",null,b(n+1),1),e("td",null,b(o.name),1),e("td",V,[e("button",{onClick:E=>t.openEdit(n)},"\u0E41\u0E01\u0E49\u0E44\u0E02",8,H),e("button",{onClick:E=>t.onDelete(n)},"\u0E25\u0E1A",8,j)])]))),128))])]),_(c,{shown:t.modalState,"onUpdate:shown":u[2]||(u[2]=o=>t.modalState=o),heading:t.modalHeading,onSave:t.onSubmit},{body:h(()=>[F,T,D(e("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=o=>t.formData.name=o),autocomplete:"off"},null,512),[[C,t.formData.name]])]),_:1},8,["shown","heading","onSave"])])}const G=S(I,[["render",L],["__scopeId","data-v-99a60520"]]);export{G as default};
