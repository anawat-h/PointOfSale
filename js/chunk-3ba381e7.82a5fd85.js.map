{"version":3,"sources":["webpack:///./src/views/Unit.vue?a4f9","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/views/Unit.vue"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createTextVNode","_hoisted_2","_createElementVNode","_hoisted_3","width","class","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_link","_resolveComponent","_component_Modal","_openBlock","_createElementBlock","_createVNode","to","name","default","_withCtx","_","type","onClick","openAdd","_Fragment","_renderList","units","unit","index","key","_toDisplayString","$event","openEdit","onDelete","shown","modalState","heading","modalHeading","onSave","onSubmit","body","_withDirectives","formData","autocomplete","_vModelText","defineComponent","components","Modal","setup","datastore","inject","ref","getAllUnits","then","x","value","editUnit","catch","alert","deleteUnit","id","__exports__"],"mappings":"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","file":"js/chunk-3ba381e7.82a5fd85.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Unit.vue?vue&type=style&index=0&id=2973913d&lang=scss&scoped=true\"","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2973913d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"กลับ\")\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"ตั้งค่าหน่วยนับ\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", { width: \"10%\" }, \"No.\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"ชื่อ\"),\n    /*#__PURE__*/_createElementVNode(\"th\", {\n      class: \"text-center\",\n      width: \"20%\"\n    }, \"ดำเนินการ\")\n  ])\n], -1))\nconst _hoisted_4 = { class: \"text-center\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"ชื่อหน่วย\", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_Modal = _resolveComponent(\"Modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_component_router_link, { to: { name: 'Home' } }, {\n      default: _withCtx(() => [\n        _hoisted_1\n      ]),\n      _: 1\n    }),\n    _hoisted_2,\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"add-button\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.openAdd && _ctx.openAdd(...args)))\n    }, \"เพิ่ม\"),\n    _createElementVNode(\"table\", null, [\n      _hoisted_3,\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.units, (unit, index) => {\n          return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n            _createElementVNode(\"td\", null, _toDisplayString(index+1), 1),\n            _createElementVNode(\"td\", null, _toDisplayString(unit.name), 1),\n            _createElementVNode(\"td\", _hoisted_4, [\n              _createElementVNode(\"button\", {\n                onClick: ($event: any) => (_ctx.openEdit(index))\n              }, \"แก้ไข\", 8, _hoisted_5),\n              _createElementVNode(\"button\", {\n                onClick: ($event: any) => (_ctx.onDelete(index))\n              }, \"ลบ\", 8, _hoisted_6)\n            ])\n          ]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_Modal, {\n      shown: _ctx.modalState,\n      \"onUpdate:shown\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.modalState) = $event)),\n      heading: _ctx.modalHeading,\n      onSave: _ctx.onSubmit\n    }, {\n      body: _withCtx(() => [\n        _hoisted_7,\n        _hoisted_8,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.formData.name) = $event)),\n          autocomplete: \"off\"\n        }, null, 512), [\n          [_vModelText, _ctx.formData.name]\n        ])\n      ]),\n      _: 1\n    }, 8, [\"shown\", \"heading\", \"onSave\"])\n  ]))\n}","\r\nimport { defineComponent, inject, ref } from 'vue';\r\nimport Modal from '@/components/Modal.vue';\r\nimport { Datastore, Unit } from '@/datastore';\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    Modal,\r\n  },\r\n  setup () {\r\n    const datastore = inject<Datastore>('datastore')!\r\n    const units = ref<Unit[]>([])\r\n    datastore.unit.getAllUnits()\r\n      .then(x => {\r\n        units.value = x\r\n      })\r\n\r\n    const formData = ref<Unit>({\r\n      name: '',\r\n    })\r\n    const modalState = ref(false)\r\n    const modalHeading = ref('')\r\n    function openAdd() {\r\n      formData.value = {\r\n        name: ''\r\n      }\r\n      modalHeading.value = 'เพิ่มหน่วยนับ'\r\n      modalState.value = true\r\n    }\r\n    function openEdit(index: number) {\r\n      formData.value = {\r\n        ...units.value[index]\r\n      }\r\n      modalHeading.value = 'แก้ไขหน่วยนับ'\r\n      modalState.value = true\r\n    }\r\n    function onSubmit() {\r\n      datastore?.unit.editUnit(formData.value)\r\n        .then(async () => {\r\n          units.value = await datastore.unit.getAllUnits()\r\n          modalState.value = false\r\n        })\r\n        .catch(x => alert(x))\r\n    }\r\n    function onDelete(index: number) {\r\n      datastore?.unit.deleteUnit(units.value[index].id!)\r\n        .then(async () => units.value = await datastore.unit.getAllUnits())\r\n        .catch(x => alert(x))\r\n    }\r\n\r\n    return {\r\n      units,\r\n      formData,\r\n      modalState,\r\n      modalHeading,\r\n      openAdd,\r\n      openEdit,\r\n      onSubmit,\r\n      onDelete,\r\n    }\r\n  },\r\n});\r\n","import { render } from \"./Unit.vue?vue&type=template&id=2973913d&scoped=true&ts=true\"\nimport script from \"./Unit.vue?vue&type=script&lang=ts\"\nexport * from \"./Unit.vue?vue&type=script&lang=ts\"\n\nimport \"./Unit.vue?vue&type=style&index=0&id=2973913d&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Work\\\\Internship\\\\point-of-sale\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2973913d\"]])\n\nexport default __exports__"],"sourceRoot":""}