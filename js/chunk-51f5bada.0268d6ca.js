(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51f5bada"],{"711b":function(e,t,n){"use strict";var c=n("7a23"),u=["value"];function a(e,t,n,a,l,o){return Object(c["I"])((Object(c["s"])(),Object(c["e"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedValue=t})},[(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(e.options,(function(e,t){return Object(c["s"])(),Object(c["e"])("option",{key:t,value:e.value},Object(c["C"])(e.text),9,u)})),128))],512)),[[c["E"],e.selectedValue]])}var l=Object(c["i"])({props:{modelValue:{default:void 0},options:{type:Array,default:function(){return[]}}},setup:function(e,t){var n=t.emit,u=Object(c["b"])({get:function(){return e.modelValue},set:function(e){n("update:modelValue",e)}});return{selectedValue:u}}}),o=n("6b0d"),r=n.n(o);const i=r()(l,[["render",a]]);t["a"]=i},bd90:function(e,t,n){"use strict";n("f7d5")},f0df:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),u=function(e){return Object(c["v"])("data-v-9fc5de1a"),e=e(),Object(c["t"])(),e},a=Object(c["g"])("กลับ"),l=u((function(){return Object(c["f"])("h2",null,"ตั้งค่าสินค้า",-1)})),o=u((function(){return Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"5%"},"No."),Object(c["f"])("th",{width:"15%"},"รหัสสินค้า"),Object(c["f"])("th",null,"ชื่อสินค้า"),Object(c["f"])("th",{width:"10%"},"หน่วย"),Object(c["f"])("th",{class:"text-end"},"ราคา"),Object(c["f"])("th",{class:"text-center",width:"20%"},"ดำเนินการ")])],-1)})),r={class:"text-center"},i=["onClick"],b=["onClick"],d={class:"row"},f={class:"col-md-6"},O=u((function(){return Object(c["f"])("label",null,"รหัสสินค้า",-1)})),j=u((function(){return Object(c["f"])("br",null,null,-1)})),s=["value"],m={class:"col-md-6"},p=u((function(){return Object(c["f"])("label",null,"ชื่อสินค้า",-1)})),v=u((function(){return Object(c["f"])("br",null,null,-1)})),h={class:"row"},D={class:"col-md-6"},w=u((function(){return Object(c["f"])("label",null,"ราคา",-1)})),y=u((function(){return Object(c["f"])("br",null,null,-1)})),I={class:"col-md-6"},k=u((function(){return Object(c["f"])("label",null,"หน่วย",-1)})),x=u((function(){return Object(c["f"])("br",null,null,-1)}));function V(e,t,n,u,V,g){var A=Object(c["A"])("router-link"),C=Object(c["A"])("Dropdown"),S=Object(c["A"])("Modal");return Object(c["s"])(),Object(c["e"])("div",null,[Object(c["h"])(A,{to:{name:"Home"}},{default:Object(c["H"])((function(){return[a]})),_:1}),l,Object(c["f"])("button",{type:"button",class:"add-button",onClick:t[0]||(t[0]=function(){return e.openAdd&&e.openAdd.apply(e,arguments)})},"เพิ่ม"),Object(c["f"])("table",null,[o,Object(c["f"])("tbody",null,[(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(e.itemTableData,(function(t,n){return Object(c["s"])(),Object(c["e"])("tr",{key:n},[Object(c["f"])("td",null,Object(c["C"])(n+1),1),Object(c["f"])("td",null,Object(c["C"])(t.code),1),Object(c["f"])("td",null,Object(c["C"])(t.name),1),Object(c["f"])("td",null,Object(c["C"])(t.unitName),1),Object(c["f"])("td",null,Object(c["C"])(t.price),1),Object(c["f"])("td",r,[Object(c["f"])("button",{onClick:function(t){return e.openEdit(n)}},"แก้ไข",8,i),Object(c["f"])("button",{onClick:function(t){return e.onDelete(n)}},"ลบ",8,b)])])})),128))])]),Object(c["h"])(S,{shown:e.modalState,"onUpdate:shown":t[5]||(t[5]=function(t){return e.modalState=t}),heading:e.modalHeading,onSave:e.onSubmit},{body:Object(c["H"])((function(){return[Object(c["f"])("div",d,[Object(c["f"])("div",f,[O,j,e.formData.id?(Object(c["s"])(),Object(c["e"])("input",{key:0,disabled:"",value:e.formData.code},null,8,s)):Object(c["I"])((Object(c["s"])(),Object(c["e"])("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.code=t})},null,512)),[[c["F"],e.formData.code]])]),Object(c["f"])("div",m,[p,v,Object(c["I"])(Object(c["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.name=t}),autocomplete:"off"},null,512),[[c["F"],e.formData.name]])])]),Object(c["f"])("div",h,[Object(c["f"])("div",D,[w,y,Object(c["I"])(Object(c["f"])("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.price=t})},null,512),[[c["F"],e.formData.price]])]),Object(c["f"])("div",I,[k,x,Object(c["h"])(C,{modelValue:e.formData.unitID,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.unitID=t}),options:e.unitOptions},null,8,["modelValue","options"])])])]})),_:1},8,["shown","heading","onSave"])])}var g=n("c7eb"),A=n("1da1"),C=n("5530"),S=(n("d81d"),n("7db0"),n("d3b7"),n("714b")),U=n("711b"),H=Object(c["i"])({components:{Modal:S["a"],Dropdown:U["a"]},setup:function(){var e=Object(c["l"])("datastore"),t=Object(c["x"])([]);e.unit.getAllUnits().then((function(e){t.value=e}));var n=Object(c["x"])([]);e.item.getAllItems().then((function(e){n.value=e}));var u=Object(c["b"])((function(){return t.value.map((function(e){return{value:e.id,text:e.name}}))})),a=Object(c["b"])((function(){return n.value.map((function(e){var n;return{code:e.code,name:e.name,unitName:null===(n=t.value.find((function(t){return t.id===e.unitID})))||void 0===n?void 0:n.name,price:e.price}}))})),l=Object(c["x"])({code:"",name:"",unitID:void 0,price:0}),o=Object(c["x"])(!1),r=Object(c["x"])("");function i(){l.value={code:"",name:"",unitID:void 0,price:0},r.value="เพิ่มสินค้า",o.value=!0}function b(e){l.value=Object(C["a"])({},n.value[e]),r.value="แก้ไขสินค้า",o.value=!0}function d(){var t=l.value;!t.id||t.code&&0!==t.code.length?t.name&&0!==t.name.length?void 0!==t.price&&null!==t.price?t.unitID?null===e||void 0===e||e.item.editItem(l.value).then(Object(A["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.item.getAllItems();case 2:n.value=t.sent,o.value=!1;case 4:case"end":return t.stop()}}),t)})))).catch((function(e){return alert(e)})):alert("unitID is empty"):alert("price is empty"):alert("name is empty"):alert("code is empty")}function f(t){null===e||void 0===e||e.item.deleteItem(n.value[t].id).then(Object(A["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.item.getAllItems();case 2:return t.abrupt("return",n.value=t.sent);case 3:case"end":return t.stop()}}),t)})))).catch((function(e){return alert(e)}))}return{unitOptions:u,itemTableData:a,formData:l,modalState:o,modalHeading:r,openAdd:i,openEdit:b,onSubmit:d,onDelete:f}}}),_=(n("bd90"),n("6b0d")),E=n.n(_);const F=E()(H,[["render",V],["__scopeId","data-v-9fc5de1a"]]);t["default"]=F},f7d5:function(e,t,n){}}]);
//# sourceMappingURL=chunk-51f5bada.0268d6ca.js.map